# Enable Apache URL rewriting.
RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d

# Recognize `domain.com/email@place.com` patterns and redirect through the php script.
RewriteRule ^([A-Z0-9_!#$%&'*+/=?`{|}~^.-]+@[A-Z0-9.-]+)$ /gravatarize.php?email=$1 [NC,L]

# (Easily) allow PHP source code to render as text for inspection under Apache's mod_php.
# RewriteRule ^(.+\.php)s$ $1 [H=application/x-httpd-php-source]

# Allow examining .htaccess files or .phps files.
<FilesMatch "\.(htaccess|user\.ini|phps)$">
  Require all granted
</FilesMatch>
